(function(){"use strict";var t={9968:function(t,e,s){var a=s(6369),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("nav",[e("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),e("router-link",{attrs:{to:"/tasks"}},[t._v("Tasks")])],1),e("router-view")],1)},i=[],o=s(1001),r={},u=(0,o.Z)(r,n,i,!1,null,"c23f89a2",null),c=u.exports,l=s(2631),d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tasks-page"},[e("create-task"),e("task-list")],1)},p=[],f=function(){var t=this,e=t._self._c;return e("section",{staticClass:"task-list"},[e("h2",[t._v("My задачи")]),e("div",{staticClass:"tasks"},t._l(t.tasks,(function(s){return e("task-item",{key:s.id,attrs:{task:s},on:{remove:function(e){return t.$emit("remove",t.post)}}})})),1)])},k=[],m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"task-item"},[e("h3",[t._v(t._s(t.task.title))]),e("p",[t._v(t._s(t.task.description))]),e("app-button",{nativeOn:{click:function(e){return t.editTask.apply(null,arguments)}}},[t._v("Edit")]),e("app-button",{nativeOn:{click:function(e){return t.deleteTask.apply(null,arguments)}}},[t._v("Delete")])],1)},v=[],h=(s(7658),function(){var t=this,e=t._self._c;return e("button",[t._t("default")],2)}),T=[],_={},b=_,y=(0,o.Z)(b,h,T,!1,null,null,null),g=y.exports,w={components:{AppButton:g},name:"TaskItem",props:{task:{type:Object,required:!0}},methods:{editTask(){this.$router.push(`/edit/${this.task.id}`)},deleteTask(){confirm("Are you sure you want to delete this task?")&&this.$store.dispatch("deleteTask",this.task.id)}}},x=w,O=(0,o.Z)(x,m,v,!1,null,"76524dea",null),P=O.exports,Z={name:"TaskList",components:{TaskItem:P},computed:{tasks(){return this.$store.state.tasks}},mounted(){this.$store.dispatch("fetchTasks")}},$=Z,j=(0,o.Z)($,f,k,!1,null,null,null),C=j.exports,E=function(){var t=this,e=t._self._c;return e("section",{staticClass:"create-task"},[e("h2",[t._v("Создание задачи")]),e("form",{on:{submit:function(e){return e.preventDefault(),t.createTask.apply(null,arguments)}}},[e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{id:"title",required:"",placeholder:"Заголовок"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),e("div",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{id:"description",placeholder:"Описание"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),e("app-button",[t._v("Создать")])],1)])},A=[],I={components:{AppButton:g},name:"CreateTask",data(){return{title:"",description:""}},methods:{async createTask(){const t={title:this.title,description:this.description};await this.$store.dispatch("createTask",t),this.title="",this.description=""}}},N=I,B=(0,o.Z)(N,E,A,!1,null,"47db03c0",null),S=B.exports,D={components:{TaskList:C,CreateTask:S}},H=D,L=(0,o.Z)(H,d,p,!1,null,"5e57488b",null),q=L.exports,M=function(){var t=this,e=t._self._c;return e("section",{staticClass:"edit-task"},[e("h2",[t._v("Редактировать Task")]),e("form",{on:{submit:function(e){return e.preventDefault(),t.updateTask.apply(null,arguments)}}},[e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.task.title,expression:"task.title"}],attrs:{id:"title",required:"",placeholder:"Заголовок"},domProps:{value:t.task.title},on:{input:function(e){e.target.composing||t.$set(t.task,"title",e.target.value)}}})]),e("div",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.task.description,expression:"task.description"}],attrs:{id:"description",placeholder:"Описание"},domProps:{value:t.task.description},on:{input:function(e){e.target.composing||t.$set(t.task,"description",e.target.value)}}})]),e("app-button",[t._v("Сохранить")])],1)])},J=[],F={components:{AppButton:g},name:"EditTask",data(){return{task:null}},computed:{taskId(){return this.$route.params.id}},methods:{async updateTask(){await this.$store.dispatch("updateTask",this.task),this.$router.push("/tasks")}},created(){const t=this.$store.getters.getTaskById(this.taskId);t?this.task={...t}:this.$router.push("/")}},G=F,K=(0,o.Z)(G,M,J,!1,null,"7b75154d",null),R=K.exports,U=function(){var t=this;t._self._c;return t._m(0)},V=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-page"},[e("h1",[t._v("THE BEST TASK MANAGER")]),e("p",[t._v("Здесь вы можете добавлять свои задачи, удалять и редактировать их!")])])}],z={name:"HomeView"},Q=z,W=(0,o.Z)(Q,U,V,!1,null,"19d06176",null),X=W.exports;a.ZP.use(l.ZP);var Y=new l.ZP({routes:[{path:"/",name:"Home",component:X},{path:"/tasks",name:"TaskList",component:q},{path:"/edit/:id",name:"EditTask",component:R}],mode:"history"}),tt=s(3822);a.ZP.use(tt.ZP);var et=new tt.ZP.Store({state:{tasks:[]},mutations:{setTasks(t,e){t.tasks=e},addTask(t,e){t.tasks.push(e)},deleteTask(t,e){t.tasks=t.tasks.filter((t=>t.id!==e))},updateTask(t,e){const s=t.tasks.findIndex((t=>t.id===e.id));-1!==s&&a.ZP.set(t.tasks,s,e)}},actions:{async fetchTasks({commit:t}){const e=await fetch("https://testovoe-671f5-default-rtdb.firebaseio.com/tasks.json"),s=await e.json();if(s){const e=Object.keys(s).map((t=>({id:t,...s[t]})));t("setTasks",e)}else t("setTasks",[])},async createTask({commit:t},e){const s=await fetch("https://testovoe-671f5-default-rtdb.firebaseio.com/tasks.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();t("addTask",{id:a.name,...e})},async deleteTask({commit:t},e){await fetch(`https://testovoe-671f5-default-rtdb.firebaseio.com/tasks/${e}.json`,{method:"DELETE"}),t("deleteTask",e)},async updateTask({commit:t},e){await fetch(`https://testovoe-671f5-default-rtdb.firebaseio.com/tasks/${e.id}.json`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t("updateTask",e)}},getters:{getTaskById:t=>e=>t.tasks.find((t=>t.id===e))}});a.ZP.config.productionTip=!1,new a.ZP({router:Y,store:et,render:t=>t(c)}).$mount("#app")}},e={};function s(a){var n=e[a];if(void 0!==n)return n.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,a,n,i){if(!a){var o=1/0;for(l=0;l<t.length;l++){a=t[l][0],n=t[l][1],i=t[l][2];for(var r=!0,u=0;u<a.length;u++)(!1&i||o>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[u])}))?a.splice(u--,1):(r=!1,i<o&&(o=i));if(r){t.splice(l--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[a,n,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,i,o=a[0],r=a[1],u=a[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(u)var l=u(s)}for(e&&e(a);c<o.length;c++)i=o[c],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(l)},a=self["webpackChunktaskmanager"]=self["webpackChunktaskmanager"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(9968)}));a=s.O(a)})();
//# sourceMappingURL=app.fb7bcf95.js.map